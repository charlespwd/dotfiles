#!/bin/bash
mkdir -p /tmp/screengrab
TMP_AVI=$(mktemp /tmp/screengrab/outXXXXXXXXXX.avi)
TMP_GIF='/tmp/screengrab/screencast.gif'

# lossless option:
ffcast -s % ffmpeg -y -f x11grab \
  -show_region 1 \
  -framerate 10 \
  -video_size %s -i %D+%c \
  -vcodec huffyuv \
  -vf crop="iw-mod(iw\\,2):ih-mod(ih\\,2)" \
  $TMP_AVI \
&& make-gif $TMP_AVI $TMP_GIF \

# copy to clipboard
xclip -selection clipboard < $TMP_GIF

echo "Output saved to $TMP_GIF"
ls -h $TMP_GIF
