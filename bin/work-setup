#!/bin/bash

## Dual screen config
# laptop (eDP-2 = 2880x1800)
# screen (DP-1 1920x1080)
#
# 1920*$scale = 3840
# 1080*$scale = 2160
# 3960 = 1080 * $scale + 1800
# $offset = 1080*2160

SCALE=1.5
MONITOR_W=1920
MONITOR_H=1080
MONITOR_MODE="${MONITOR_W}x${MONITOR_H}"
LAPTOP_W=2880
LAPTOP_H=1800
LAPTOP_MODe="${LAPTOP_W}x${LAPTOP_H}"
FULL_SCALE="${SCALE}x${SCALE}"
FRAME_BUFFER_W=$(node-calc "Math.floor($MONITOR_W * $SCALE)")
FRAME_BUFFER_H=$(node-calc "Math.floor($LAPTOP_H + $MONITOR_H * $SCALE) + 1")
FRAME_BUFFER="${FRAME_BUFFER_W}x${FRAME_BUFFER_H}"
Y_OFFSET=$(node-calc "Math.ceil($MONITOR_H * $SCALE) + 1")
LAPTOP_OFFSET="0x$Y_OFFSET"

xrandr --output DP-2 --auto --primary --pos $LAPTOP_OFFSET --scale 1x1 \
       --output DP-1 --auto --scale 1.5x1.5 --pos 0x0
